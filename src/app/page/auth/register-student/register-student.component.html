<!-- src/app/page/register-student/register-student.component.html -->

<div class="register-student-container min-h-screen flex items-center justify-center bg-gray-100">
    <div class="bg-white p-8 rounded-lg shadow-md w-full max-w-md">
      <h2 class="text-2xl font-bold mb-6 text-center">Completar Registro</h2>
  
      <!-- Mensaje de Validación del Token -->
      <div *ngIf="!isTokenValid" class="text-red-500 mb-4 text-center">
        Token de invitación inválido o expirado.
      </div>
  
      <!-- Formulario de Registro -->
      <form *ngIf="isTokenValid" [formGroup]="registerForm" (ngSubmit)="onSubmit()">
        <!-- Nombre -->
        <div class="mb-4">
          <label class="block text-gray-700">Nombre</label>
          <input type="text" formControlName="nombre" class="w-full px-3 py-2 border rounded" />
          <div *ngIf="registerForm.get('nombre')?.touched && registerForm.get('nombre')?.invalid" class="text-red-500 text-sm">
            El nombre es obligatorio.
          </div>
        </div>
        
        <!-- Apellidos -->
        <div class="mb-4">
          <label class="block text-gray-700">Apellidos</label>
          <input type="text" formControlName="apellidos" class="w-full px-3 py-2 border rounded" />
          <div *ngIf="registerForm.get('apellidos')?.touched && registerForm.get('apellidos')?.invalid" class="text-red-500 text-sm">
            Los apellidos son obligatorios.
          </div>
        </div>
  
        <div class="form-control mb-4">
          <label class="label">
            <span class="label-text text-gray-600">Correo electrónico*</span>
          </label>
          <input
            type="email"
            placeholder="juanlopez@gmail.com"
            class="input input-bordered w-full"
            formControlName="email"
          />
          <div *ngIf="registerForm.get('email')?.invalid && registerForm.get('email')?.touched" class="text-red-500 text-sm">
            Introduce un correo electrónico válido.
          </div>
        </div>
        
        <!-- Contraseña -->
        <div class="mb-4">
          <label class="block text-gray-700">Contraseña</label>
          <input type="password" formControlName="password" class="w-full px-3 py-2 border rounded" />
          <div *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid" class="text-red-500 text-sm">
            La contraseña debe tener al menos 8 caracteres, incluir una letra mayúscula, un número y un símbolo especial.
          </div>
        </div>
  
        <!-- Departamento
        <div class="mb-4">
          <label class="block text-gray-700">Ciclo</label>
          <select formControlName="departamento" class="w-full px-3 py-2 border rounded">
            <option value="">Selecciona un ciclo</option>
            <option value="primer ciclo">1</option>
            <option value="segundo ciclo">2</option>
            <option value="tercer cilo">3</option>
            <option value="cuarto ciclo">4</option>
          </select>
          <div *ngIf="registerForm.get('departamento')?.touched && registerForm.get('departamento')?.invalid" class="text-red-500 text-sm">
            Selecciona un departamento.
          </div>
        </div>-->
  
        <!-- Ciclo -->
        <div class="mb-4">
          <label class="block text-gray-700">Ciclo</label>
          <input type="number" formControlName="ciclo" class="w-full px-3 py-2 border rounded" min="1" max="4" />
          <div *ngIf="registerForm.get('ciclo')?.touched && registerForm.get('ciclo')?.invalid" class="text-red-500 text-sm">
            El ciclo debe estar entre 1 y 4.
          </div>
        </div>
  
        <!-- Botón de Registro -->
        <button type="submit" class="w-full bg-green-500 text-white py-2 rounded" [disabled]="isSubmitting">
          <span *ngIf="!isSubmitting">Registrarse</span>
          <span *ngIf="isSubmitting">Registrando...</span>
        </button>
      </form>
    </div>
  </div>
  